//HUNNU DELICIOUS CAKES
#include<iostream>
#define MAXN 21
using namespace std;

int col[ MAXN ][ MAXN ];
int l,n;
int coled ;
int rear,front;


void dfs(int r , int c)
{
  for()
  return ;
}

int main()
{
  int i,t;
  cin>>t;
  while(t > 0 )
    {
      cin>>l>>n;
      coled = 0;
      for(i = 1 ; i < n ; ++ i)
	cin>>cx[ i ]>>cy[ i ];
      dfs(1,1);
      if(coled == l * l)
	cout<<"YES\n";
      else
	cout<<"NO\n";
      -- t;
    }
  return 0;
}
